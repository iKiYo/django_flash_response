{% extends "_base.html" %}
{% load i18n %}
{% block title %}DashBoard{% endblock title %}

{% block content %}
<div class="container mt-3 pt-3">

  {% if user.is_authenticated %}
  <h2>DashBoard</h2>
  <p>Welcome to your dashboard.</p>
  <div class="container rounded status p-2">
	<h3>{{user.username }}</h3>
	{% else %}
	<h2>DashBoard DEMO</h2>
	<p>Welcome to your dashboard.</p>
	<div class="container rounded status p-2">
	  <h3>Guest User</h3>
	  {% endif %}
	  
	  <span>Predicted Level: <span class="h4">{{ predicted_level }}</span>　(an experimental feature:試験運用中)</span>
	  <hr>
	  <div class="row">
		<div class="col">
		  <ul class="list-group list-group-flush bg-transparent">

			{% if user.is_authenticated %}
			<li class="list-group-item bg-transparent d-flex justify-content-between align-items-center">{% trans "Today's total attempts" %} <span> {{ total_attempts_today }}</span></li>
			{% endif %}

			<li class="list-group-item bg-transparent d-flex justify-content-between align-items-center">{% trans "Current memory score" %} <span>{{ total_score }}</span></li>
			<li class="list-group-item bg-transparent d-flex justify-content-between align-items-center">{% trans "Total number of questions" %} <span>{{ total_num_card }}</span></li>
			<li class="list-group-item bg-transparent d-flex justify-content-between align-items-center">{% trans "Total number of attempts" %} <span>{{ total_attempts }}</span></li>
			<li class="list-group-item bg-transparent d-flex justify-content-between align-items-center">{% trans "Average attempts per question" %} <span>{{ avg_attempt }}</span></li>
		  </ul>
		</div>
		<div class="col">
		</div>
	  </div>
	  <hr>
	  <a class="btn btn-primary btn-sm align-middle" href="{% url 'exercise' %}">練習をスタートする</a>
	  <a class="btn btn-secondary btn-sm align-middle" href="{% url 'card_upload' %}">自作の問題をアップロードする</a>
	  <a class="btn btn-secondary btn-sm align-middle" href="{% url 'card_list'%}">問題一覧を見る</a>
	  {% if user.is_authenticated %}
	  <a class="btn btn-secondary btn-sm align-middle" href="{% url 'password_change'%}">パスワード変更</a>
	  {% endif %}
	  
	</div>

  </div>
</div>  
{% endblock content %}
